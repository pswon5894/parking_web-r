# `Login.js` 컴포넌트를 `App.js`에 추가하기

이 가이드는 `Login.js` 컴포넌트를 `App.js`에 통합하여 애플리케이션에 로그인 기능을 추가하는 방법을 설명합니다.

## `App.js` 수정

`client/src/App.js` 파일을 열고 다음과 같이 수정합니다.

1.  **`Login` 컴포넌트 임포트 확인**:
    `client/src/App.js` 파일에 이미 `Login` 컴포넌트가 임포트되어 있는지 확인합니다. 다음과 같은 줄이 있어야 합니다:

    ```javascript
    import Login from './components/Login';
    ```

    만약 없다면, 이 줄을 파일 상단, 다른 임포트 문 아래에 추가해 주세요.

2.  **`Login` 컴포넌트 렌더링**:
    `App` 컴포넌트의 `return` 문 안에 `<Login />` 컴포넌트를 추가합니다. 로그인 기능이 애플리케이션의 어느 부분에 나타나기를 원하는지에 따라 위치를 조정할 수 있습니다. 이 예시에서는 `MapComponent` 위에 추가합니다.

    **수정 전 `App.js` (일부)**:
    ```javascript
    // ... (imports and state hooks) ...

    return (
      <div className="App">
        <h2>주차 위치 지도</h2>
        <MapComponent onLocationChange={handleLocationChange} />
        <SaveButton onSave={handleSaveLocation} />
        <ImageModal isOpen={imageModalOpen} src={modalImageSrc} onClose={closeImageModal} />
      </div>
    );
    ```

    **수정 후 `App.js` (일부)**:
    ```javascript
    // ... (imports and state hooks) ...

    return (
      <div className="App">
        <h1>내 주차 도우미</h1> {/* 앱의 제목을 추가하거나 기존 제목을 변경할 수 있습니다. */}
        <Login /> {/* 여기에 Login 컴포넌트를 추가합니다 */}
        <h2>주차 위치 지도</h2>
        <MapComponent onLocationChange={handleLocationChange} />
        <SaveButton onSave={handleLocationChange} />
        <ImageModal isOpen={imageModalOpen} src={modalImageSrc} onClose={closeImageModal} />
      </div>
    );
    ```

### 변경된 `client/src/App.js` 파일 예시

```javascript
import React, { useState, useCallback } from 'react';
import './App.css';
import MapComponent from './components/MapComponent';
import SaveButton from './components/SaveButton';
import ImageModal from './components/ImageModal';
import { readImage } from './utils/imageUtils';
import Login from './components/Login'; // 이 줄이 있는지 확인하세요.

function App() {
  const [currentLatLng, setCurrentLatLng] = useState(null);
  const [imageModalOpen, setImageModalOpen] = useState(false);
  const [modalImageSrc, setModalImageSrc] = useState('');

  const handleLocationChange = useCallback((latlng) => {
    setCurrentLatLng(latlng);
  }, []);

  const openImageModal = useCallback((src) => {
    setModalImageSrc(src);
    setImageModalOpen(true);
  }, []);

  const closeImageModal = useCallback(() => {
    setModalImageSrc('');
    setImageModalOpen(false);
  }, []);

  const handleSaveLocation = async (file) => {
    if (!currentLatLng) {
      alert('현재 위치를 확인 중입니다. 잠시만 기다려주세요');
      return;
    }

    const imageBase64 = await readImage(file);
    const { lat, lng } = currentLatLng;

    const popupContent = `
      <b> 주차 위치</b><br/>
      <img src="${imageBase64}"
      style="width:200px; margin-top:5px; border-radius:8px; cursor:pointer;"
      onclick="window.openImageFromApp('${imageBase64}')"
      /><br/>
      <a href="https://www.google.com/maps?q=${lat},${lng}"
         target="_blank">구글맵으로 열기</a>`;

    window.openImageFromApp = openImageModal;

    fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lng}`)
      .then(res => res.json())
      .then(data => {
        const address = data.display_name || '주소 정보 없음';
        alert(`주차 위치 저장됨\n\n주소:\n${address}`);
      })
      .catch(error => console.error("Error fetching address:", error));

    const googleMapsUrl = `https://www.google.com/maps?q=${lat},${lng}`;
    navigator.clipboard.writeText(googleMapsUrl).then(() => {
      alert('주차 위치가 구글 맵 링크로 복사되었습니다!\n' + googleMapsUrl);
      console.log('Saved URL:', googleMapsUrl);
    }).catch(err => {
      console.error('복사 실패:', err);
      alert('클립보드 복사에 실패했습니다.');
    });
  };

  return (
    <div className="App">
      <h1>내 주차 도우미</h1>
      <Login /> {/* Login 컴포넌트가 여기에 렌더링됩니다. */}
      <h2>주차 위치 지도</h2>
      <MapComponent onLocationChange={handleLocationChange} />
      <SaveButton onSave={handleSaveLocation} />
      <ImageModal isOpen={imageModalOpen} src={modalImageSrc} onClose={closeImageModal} />
    </div>
  );
}

export default App;
```

## 설명

*   `Login` 컴포넌트는 `useAuth` 훅을 사용하여 로그인 상태를 관리합니다. 사용자가 로그인하지 않은 경우 로그인 폼을 표시하고, 로그인한 경우 환영 메시지와 로그아웃 버튼을 표시합니다.
*   `App.js`에서 `<Login />`을 렌더링하기만 하면, `Login` 컴포넌트가 자체적으로 로그인/로그아웃 UI를 처리합니다.
*   이 변경으로 애플리케이션의 다른 기능(지도, 저장 버튼 등)과 별도로 로그인 기능을 표시할 수 있습니다.
